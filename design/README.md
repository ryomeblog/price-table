# 底値表アプリ 画面設計書

## 概要
底値表アプリは、各スーパーマーケットでの商品価格を比較・記録し、最安値で購入できるように支援するWebアプリケーションです。

## 画面構成

### 1. 底値表一覧画面 (`price-table-list.svg`)

#### 主要機能
- **商品検索**: ヘッダー部分の検索バーで商品名による絞り込み
- **商品アコーディオン**: 商品名ごとにグループ化、展開/折りたたみ可能
- **価格比較テーブル**: 各商品の価格情報を一覧表示
- **新規追加**: 右上の「新規追加」ボタンでモーダル画面を開く

#### UI要素
- **ヘッダー**: アプリタイトル、新規追加ボタン
- **検索バー**: プレースホルダー「商品名で検索...」
- **アコーディオンリスト**: 
  - 展開状態: 詳細テーブル表示
  - 折りたたみ状態: 商品名のみ表示
- **データテーブル**: 値段、単位、数量、単価、場所、備考、操作ボタン
- **最安値表示**: 最も安い商品には「最安値」バッジを表示

#### カラー設計
- プライマリカラー: #3b82f6 (青)
- アクセントカラー: #10b981 (緑) - 新規追加、最安値表示
- 危険色: #ef4444 (赤) - 削除ボタン
- 背景色: #f8fafc (淡いグレー)

### 2. 底値表入力画面 (`price-table-input-modal.svg`)

#### 主要機能
- **商品情報入力**: 商品名、価格、単位、数量、購入場所、備考
- **単価自動計算**: 価格÷数量で単価を自動算出
- **店舗選択**: よく使う店舗のドロップダウンリスト
- **入力検証**: 必須項目のチェック、数値形式の検証

#### フォーム項目
1. **商品名** (必須): テキスト入力
2. **価格** (必須): 数値入力 + 円表示
3. **単位** (必須): テキスト入力（例：kg, ml, 個）
4. **数量** (必須): 数値入力
5. **単価**: 自動計算（価格÷数量）
6. **購入場所** (必須): テキスト入力 + ドロップダウン選択
7. **備考**: 複数行テキスト入力

#### UX配慮
- **バリデーション**: リアルタイム入力検証
- **キーボードショートカット**: Ctrl+Enter（登録）、Esc（キャンセル）
- **価格履歴**: 同じ商品の過去の価格履歴表示（展開可能）
- **よく使う店舗**: ドロップダウンで効率的な入力

## 技術仕様

### レスポンシブ対応
- デスクトップ: 1200px幅を基準
- タブレット: 768px以下で調整
- モバイル: 480px以下でスタック表示

### アクセシビリティ
- コントラスト比: WCAG 2.1 AA準拠
- キーボードナビゲーション対応
- スクリーンリーダー対応

### データ構造
```javascript
{
  id: string,
  productName: string,
  price: number,
  unit: string,
  quantity: number,
  unitPrice: number, // 自動計算
  store: string,
  notes: string,
  createdAt: Date,
  updatedAt: Date
}
```

## 実装時の注意点

1. **パフォーマンス**: 大量データ対応のため仮想スクロール検討
2. **データ永続化**: LocalStorage or IndexedDB使用
3. **検索機能**: 部分一致、ひらがな/カタカナ対応
4. **ソート機能**: 単価順、更新日順などのソートオプション
5. **エクスポート機能**: CSV/PDF出力機能の追加検討

## 今後の拡張予定

- グラフ表示機能（価格推移）
- 予算管理機能
- 買い物リスト機能
- 店舗別特売情報の連携
- モバイルアプリ版の開発